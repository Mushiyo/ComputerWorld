title=在Ubuntu下更新JDK
date=2014-06-28 17:42
full_date=2014-06-28T17:42:00.001+08:00
type=post
allowComment=true
tags=〔Java〕, Ubuntu, 筆記
status=published
~~~~~~

前幾個月Java 8釋出了，增加了不少新功能<br />最近放假了，打算利用假期來嘗試看看，所以就把JDK更新了一下，順便做個筆記<br />方便自己以後要更新時參考，這樣就不用每次在更新都得再找一次網路上的教學文了<br />（我總是記不住整個流程Orz……）<br /><br />底下的內容主要是參考自這篇：<a href="http://www.wikihow.com/Upgrade-Oracle-Java-on-Ubuntu-Linux">http://www.wikihow.com/Upgrade-Oracle-Java-on-Ubuntu-Linux</a><br />在繼續讀下去之前，請先自行載好JDK<br /><br />1.<br />首先打開終端機，在終端機裡打上<br /><pre class="brush:plain">sudo nautilus<br /></pre>這樣就會以root的身份開啟視窗<br /><br />2.<br />視窗開啟後，畫面上會是root的家目錄<br />接著，找到你存放JDK壓縮檔的資料夾<br />把JDK的壓縮檔剪下貼上到你之前安裝java的位置<br />然後對檔案解壓縮<br /><br />例如：<br />我這次載下來的是jdk-8u5-linux-i586.tar.gz<br />我的Java都是放在/usr/local/下面<br />把它丟過去後解壓縮，完成後的畫面就是下圖那樣<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://www.mediafire.com/convkey/c474/6wu0w77g7a70r5o6g.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="190" src="https://www.mediafire.com/convkey/c474/6wu0w77g7a70r5o6g.jpg" width="400" /></a></div><br />3.<br />接下來在終端機打上<br /><pre class="brush:plain">sudo gedit /etc/profile<br /></pre>這樣會以root身份執行gedit來編輯/etc/profile這個檔案<br /><br />在檔案裡找到類似下面的一段文字<br /><pre class="brush:plain">JAVA_HOME=/usr/local/jdk1.7.0_09<br />PATH=$PATH:$HOME/bin:$JAVA_HOME/bin<br />JRE_HOME=/usr/local/jdk1.7.0_09/jre<br />PATH=$PATH:$HOME/bin:$JRE_HOME/bin<br />export JAVA_HOME<br />export JRE_HOME<br />export PATH<br /></pre><br />把裡面版本號的地方都改成所安裝的版本號，路徑也換成你放的路徑<br />例如我的改完之後就是：<br /><pre class="brush:plain">JAVA_HOME=/usr/local/jdk1.8.0_05<br />PATH=$PATH:$HOME/bin:$JAVA_HOME/bin<br />JRE_HOME=/usr/local/jdk1.8.0_05/jre<br />PATH=$PATH:$HOME/bin:$JRE_HOME/bin<br />export JAVA_HOME<br />export JRE_HOME<br />export PATH<br /></pre>接著存檔離開<br /><br />4.<br />回到終端機，把以下yourJDKPath的地方都換成你安裝Java的路徑<br />接著分別打在終端機上，通知Ubuntu你把Java更新了<br /><pre class="brush:plain">sudo update-alternatives --install "/usr/bin/java" "java" "yourJDKPath/bin/java" 1<br />sudo update-alternatives --install "/usr/bin/javac" "javac" "yourJDKPath/bin/javac" 1<br />sudo update-alternatives --install "/usr/bin/javaws" "javaws" "yourJDKPath/bin/javaws" 1<br /><br />sudo update-alternatives --set java yourJDKPath/bin/java<br />sudo update-alternatives --set javac yourJDKPath/bin/javac<br />sudo update-alternatives --set javaws yourJDKPath/bin/javaws<br /></pre><br />例如說我打上去的是：<br /><pre class="brush:plain">sudo update-alternatives --install "/usr/bin/java" "java" "/usr/local/jdk1.8.0_05/bin/java" 1<br />sudo update-alternatives --install "/usr/bin/javac" "javac" "/usr/local/jdk1.8.0_05/bin/javac" 1<br />sudo update-alternatives --install "/usr/bin/javaws" "javaws" "/usr/local/jdk1.8.0_05/bin/javaws" 1<br /><br />sudo update-alternatives --set java /usr/local/jdk1.8.0_05/bin/java<br />sudo update-alternatives --set javac /usr/local/jdk1.8.0_05/bin/javac<br />sudo update-alternatives --set javaws /usr/local/jdk1.8.0_05/bin/javaws<br /></pre><br />5.<br />在終端機打上<br /><pre class="brush:plain">. /etc/profile<br /></pre>接著把東西都關一關，登出Ubuntu<br /><br />6.<br />重新登入Ubuntu<br />打開終端機，分別打上<br /><pre class="brush:plain">java -version<br />javac -version<br /></pre>看終端機所顯示出的Java版本號是否換成跟你所載的相同<br />如果是，就表示已成功更新了<br />例如我的就是下面的畫面，顯示已更新為目前最新的1.8.0_05版了<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://www.mediafire.com/convkey/4524/8xg1261aut2fp1q6g.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="251" src="https://www.mediafire.com/convkey/4524/8xg1261aut2fp1q6g.jpg" width="400" /></a></div><br />7.<br />接下來你可以選擇是否要把舊的Java刪掉<br />如果要刪的話，直接切換為root，把整個舊JDK的資料夾刪掉就好
