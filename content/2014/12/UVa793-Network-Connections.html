title=〔UVa〕793 - Network Connections
date=2014-12-21 16:02
full_date=2014-12-21T16:02:00.002+08:00
type=post
allowComment=true
tags=〔UVa〕, 【競賽＆解題】
status=published
~~~~~~

Problem：<a href="http://uva.onlinejudge.org/external/7/793.html">http://uva.onlinejudge.org/external/7/793.html</a><br /><!--more--><br />Solution Description:<br />This problem can be solved with disjoint set. In the beginning, let each computer be a disjoint set with only one element. When reading 'c', union the two set of the two computer; when reading 'q', find if the two computer belongs the same disjoint set. If true, then successful answer plus one; else, unsuccessful answer plus one.<br /><br />C++：<br /><pre class="brush:c">/*Filename: UVa793.cpp<br /> *Author: Mushiyo<br /> */<br /><br />#include &lt;iostream&gt;<br />#include &lt;cstdio&gt;<br />#include &lt;vector&gt;<br /><br />using namespace std;<br /><br />class DisjointSet {<br />public:<br /> DisjointSet(int size) {<br />  parent.assign(size + 1, -1);<br /> }<br /><br /> int findSet(int i) {<br />  if (parent[i] == -1) {<br />   return i;<br />  } else {<br />   parent[i] = findSet(parent[i]);<br />   return parent[i];<br />  }<br /> }<br /><br /> int unionSet(int i, int j) {<br />  int setI = findSet(i);<br />  int setJ = findSet(j);<br /><br />  if(setI == setJ){<br />   return -1;<br />  }<br /><br />  parent[findSet(i)] = findSet(j);<br />  return findSet(i);<br /> }<br />private:<br /> vector&lt;int&gt; parent;<br />};<br /><br />int main() {<br /> int dataSetNum = 0;<br /> string s;<br /><br /> while (scanf("%d ", &amp;dataSetNum) == 1) {<br />  bool isFirstOutput = true;<br />  while (dataSetNum &gt; 0) {<br />   int computerNum = 0;<br />   scanf("%d ", &amp;computerNum);<br /><br />   DisjointSet computerNetwork(computerNum);<br />   int successful = 0, unsuccessful = 0;<br /><br />   while (true) {<br />    getline(cin, s);<br /><br />    if (s == "") {<br />     break;<br />    } else {<br />     char cmd = ' ';<br />     int i = 0, j = 0;<br /><br />     sscanf(s.c_str(), "%c %d %d", &amp;cmd, &amp;i , &amp;j);<br /><br />     if(cmd == 'c'){<br />      computerNetwork.unionSet(i, j);<br />     } else if (cmd == 'q'){<br />      if(computerNetwork.findSet(i) == computerNetwork.findSet(j)){<br />       ++successful;<br />      } else {<br />       ++unsuccessful;<br />      }<br />     }<br />    }<br />   }<br /><br />   if (isFirstOutput) {<br />    isFirstOutput = false;<br />   } else {<br />    printf("\n");<br />   }<br /><br />   printf("%d,%d\n", successful, unsuccessful);<br /><br />   --dataSetNum;<br />  }<br /> }<br /><br /> return 0;<br />}<br /><br /></pre>
