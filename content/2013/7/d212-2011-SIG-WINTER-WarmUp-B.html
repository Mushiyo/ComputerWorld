title=〔大學生程式解題系統〕d212: 2011 SIG WINTER WarmUp B
date=2013-07-29 22:06
full_date=2013-07-29T22:06:00.000+08:00
type=post
allowComment=true
tags=【競賽＆解題】, 〔大學生程式解題系統〕
status=published
~~~~~~

題目：<a href="http://judge.nccucs.org/ShowProblem?problemid=d212">http://judge.nccucs.org/ShowProblem?problemid=d212</a><br /><!--more--><br />解題雜記：<br /> 　　如果每次看到數字都要算一次它的cycle-length的話，會得到TLE。因此開一個陣列，當算出某數的cycle-length時就把它記錄下來，這樣下次再遇到它時就不用再花時間算一次它的cycle-length。<br /><br />C++： <br /><pre class="brush:c">/*Filename: d212.cpp<br /> *Author: Mushiyo<br /> */<br /><br />#include &lt;iostream&gt;<br />#include &lt;stdio.h&gt;<br />#include &lt;cmath&gt;<br /><br />using namespace std;<br /><br />const int SIZE = 1000000;<br />long long cycleLenRec[SIZE];<br /><br />long long countCycleLength(long long n) {<br /> if(cycleLenRec[n] &gt; 0){<br />  return cycleLenRec[n];<br /> }<br /><br /> long long cycleLen = 1;<br /> long long term = n;<br /><br /> while (term != 1) {<br /><br />  if (term % 2 == 1) {<br />   term = 3 * term + 1;<br />  } else {<br />   term = term / 2;<br />  }<br /><br />  ++cycleLen;<br /> }<br /> cycleLenRec[n] = cycleLen;<br /><br /> return cycleLen;<br />}<br /><br />void initialize(){<br /> for(int i = 0; i &lt; SIZE; ++i){<br />  cycleLenRec[i] = 0;<br /> }<br />}<br /><br />int main() {<br /> int i = 0, j = 0;<br /><br /> initialize();<br /><br /> while (cin &gt;&gt; i &gt;&gt; j) {<br />  int l = min(i, j);<br />  int u = max(i, j);<br />  long long maxCycleLen = 1;<br /><br />  for (int k = l; k &lt;= u; ++k) {<br />   long long currentCycleLen = countCycleLength(k);<br /><br />   if (currentCycleLen &gt; maxCycleLen) {<br />    maxCycleLen = currentCycleLen;<br />   }<br />  }<br /><br />  //cout &lt;&lt; i &lt;&lt; " " &lt;&lt; j &lt;&lt; " " &lt;&lt; maxCycleLen &lt;&lt; endl;<br />  printf("%d %d %d\n", i ,j , maxCycleLen);<br /> }<br /><br /> return 0;<br />}<br /><br /></pre>
