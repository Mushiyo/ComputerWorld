title=〔UVa〕532 - Dungeon Master
date=2013-12-08 15:31
full_date=2013-12-08T15:31:00.003+08:00
type=post
allowComment=true
tags=〔UVa〕, 【競賽＆解題】
status=published
~~~~~~

題目：<a href="http://uva.onlinejudge.org/external/5/532.html">http://uva.onlinejudge.org/external/5/532.html</a><br /><!--more--><br />解題雜記：<br />　　待補<br /><br />Java：<br /><pre class="brush:java">待補，有需要請留言<br /></pre><br />C++：<br /><pre class="brush:c">/*Filename: u532.cpp<br /> *Author: Mushiyo<br /> */<br /><br />#include &lt;iostream&gt;<br />#include &lt;cstring&gt;<br />#include &lt;queue&gt;<br /><br />using namespace std;<br /><br />struct Point {<br /> int l;<br /> int r;<br /> int c;<br />};<br /><br />const int DIRECTIONS = 6;<br />const int dL[] = { 0, 0, 0, 0, -1, 1 };<br />const int dR[] = { 1, -1, 0, 0, 0, 0 };<br />const int dC[] = { 0, 0, 1, -1, 0, 0 };<br /><br />const int MAX_SIZE = 30 + 2;<br />char dungeon[MAX_SIZE][MAX_SIZE][MAX_SIZE];<br />const char START = 'S';<br />const char END = 'E';<br />const char ROCK = '#';<br />int timeStamp[MAX_SIZE][MAX_SIZE][MAX_SIZE];<br />const int NOT_REACHED = -1;<br /><br />int main() {<br /> int L = 0, R = 0, C = 0;<br /><br /> while (cin &gt;&gt; L &gt;&gt; R &gt;&gt; C) {<br />  if (L == 0 &amp;&amp; R == 0 &amp;&amp; C == 0) {<br />   break;<br />  }<br /><br />  memset(dungeon, ROCK, sizeof(dungeon));<br />  memset(timeStamp, NOT_REACHED, sizeof(timeStamp));<br /><br />  queue&lt;Point&gt; q;<br />  for (int l = 1; l &lt;= L; ++l) {<br />   for (int r = 1; r &lt;= R; ++r) {<br />    for (int c = 1; c &lt;= C; ++c) {<br />     cin &gt;&gt; dungeon[l][r][c];<br /><br />     if (dungeon[l][r][c] == START) {<br />      q.push((Point ) { l, r, c });<br />      timeStamp[l][r][c] = 0;<br />     }<br />    }<br />   }<br />  }<br /><br />  int reachedTime = NOT_REACHED;<br />  while (q.empty() == false) {<br />   Point currPos = q.front();<br />   q.pop();<br /><br />   if(dungeon[currPos.l][currPos.r][currPos.c] == END){<br />    reachedTime = timeStamp[currPos.l][currPos.r][currPos.c];<br />    break;<br />   }<br /><br />   int currentTime = timeStamp[currPos.l][currPos.r][currPos.c];<br /><br />   for (int d = 0; d &lt; DIRECTIONS; ++d) {<br />    int nL = currPos.l + dL[d];<br />    int nR = currPos.r + dR[d];<br />    int nC = currPos.c + dC[d];<br />    if (timeStamp[nL][nR][nC] == NOT_REACHED) {<br />     if (dungeon[nL][nR][nC] != ROCK) {<br />      q.push((Point) { nL, nR, nC});<br />      timeStamp[nL][nR][nC] = currentTime + 1;<br />     }<br />    }<br />   }<br />  }<br /><br />  if(reachedTime == NOT_REACHED){<br />   cout &lt;&lt; "Trapped!" &lt;&lt; endl;<br />  }<br />  else{<br />   cout &lt;&lt; "Escaped in " &lt;&lt; reachedTime &lt;&lt; " minute(s)."&lt;&lt; endl;<br />  }<br /> }<br /><br /> return 0;<br />}<br /><br /></pre>
