title=〔UVa〕133 - The Dole Queue
date=2015-01-09 20:37
full_date=2015-01-09T20:37:00.000+08:00
type=post
allowComment=true
tags=〔UVa〕, 【競賽＆解題】
status=published
~~~~~~

Problem：<a href="http://uva.onlinejudge.org/external/1/133.html">http://uva.onlinejudge.org/external/1/133.html</a><br /><!--more--><br />Solution Description:<br />When a person is being remove from the queue, we mark that position with a deletion mark instead shrink the queue. When encounter a deletion mark, just ignore it. It is easy to code in this way since the size of the queue is always same as its initial configuration. <br /><br />Java：<br /><pre class="brush:java">/* Filename: UVa133.java<br /> * Author: Mushiyo<br /> */<br /><br />import java.util.Scanner;<br /><br />public class UVa133 {<br /> private static final int CCW = 1; // counter-clockwise<br /> private static final int CW = -1; // clockwise<br /><br /> public static void main(String[] args) {<br />  Scanner input = new Scanner(System.in);<br /><br />  while (input.hasNext()) {<br />   int N = input.nextInt();<br />   int k = input.nextInt();<br />   int m = input.nextInt();<br /><br />   if (N == 0 &amp;&amp; m == 0 &amp;&amp; k == 0) {<br />    break;<br />   }<br /><br />   int ccwPos = N, cwPos = 1; // set them to their "previous" position before count the next round<br />   boolean[] peopleOut = new boolean[N + 1];<br />   peopleOut[0] = true;<br />   // "peopleOut[i] == false" means people i is still in queue<br /><br />   while (N &gt; 0) {<br />    ccwPos = choosePerson(peopleOut, ccwPos, CCW, k);<br />    cwPos = choosePerson(peopleOut, cwPos, CW, m);<br /><br />    if (ccwPos != cwPos) {<br />     peopleOut[ccwPos] = true;<br />     peopleOut[cwPos] = true;<br />     N -= 2;<br /><br />     System.out.printf("%3d%3d", ccwPos, cwPos);<br />    } else {<br />     peopleOut[ccwPos] = true;<br />     --N;<br /><br />     System.out.printf("%3d", ccwPos);<br />    }<br /><br />    if (N &gt; 0) {<br />     System.out.printf(",");<br />    }<br />   }<br />   System.out.printf("\n");<br />  }<br /> }<br /><br /> private static int choosePerson(boolean[] peopleOut, int currPos,<br />   int direction, int length) {<br />  int totalPeople = peopleOut.length - 1;<br />  <br />  while (length &gt; 0) {<br />   do {<br />    currPos = (currPos + direction + totalPeople - 1) % totalPeople + 1;<br />   } while (peopleOut[currPos] == true);<br /><br />   --length;<br />  }<br /><br />  return currPos;<br /> }<br />}<br /><br /></pre>
