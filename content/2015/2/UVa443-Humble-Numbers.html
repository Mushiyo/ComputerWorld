title=〔UVa〕443 - Humble Numbers
date=2015-02-23 17:31
full_date=2015-02-23T17:31:00.001+08:00
type=post
allowComment=true
tags=〔UVa〕, 【競賽＆解題】
status=published
~~~~~~

Problem：<a href="http://uva.onlinejudge.org/external/4/443.html">http://uva.onlinejudge.org/external/4/443.html</a><br /><!--more--><br />Solution Description:<br />This problem is almost same as UVa 136, but we have four prime factors instead of three, and the output is more complicated.<br />Push the first humble number, i.e. 1, into a priority queue.<br />Poll  a number from the priority queue, if the number never appears in the  queue (use a set to check and record), times it with 2, 3, 5 and 7  respectively and push the results into the queue.<br />Repeat the above procedure until we find all the first 5842 humble numbers.<br />When receiving an input n, just find the corresponding humble number.<br /><br />Java：<br /><pre class="brush:java">/* Filename: UVa443.java<br /> * Author: Mushiyo<br /> */<br /><br />import java.util.Set;<br />import java.util.HashSet;<br />import java.util.PriorityQueue;<br />import java.util.Arrays;<br />import java.util.Scanner;<br /><br />public class UVa443 {<br /><br /> public static void main(String[] args) {<br />  long[] humbleNum = new long[5842 + 1];<br />  final int[] factors = { 2, 3, 5, 7 };<br />  PriorityQueue&lt;Long&gt; pq = new PriorityQueue&lt;Long&gt;(Arrays.asList(1L));<br />  Set&lt;Long&gt; apperedUglyNumbers = new HashSet&lt;Long&gt;();<br /><br />  // find all humble numbers between 1 ~ 5842<br />  int countUgly = 1;<br />  while (countUgly &lt; humbleNum.length) {<br />   long currentUgly = pq.poll();<br /><br />   if (!apperedUglyNumbers.contains(currentUgly)) {<br />    humbleNum[countUgly++] = currentUgly;<br />    apperedUglyNumbers.add(currentUgly);<br />    for (int i = 0; i &lt; factors.length; ++i) {<br />     pq.add(currentUgly * factors[i]);<br />    }<br />   }<br />  }<br /><br />  Scanner input = new Scanner(System.in);<br /><br />  while (input.hasNext()) {<br />   int n = input.nextInt();<br />   <br />   if(n == 0){<br />    break;<br />   }<br /><br />   if (n % 100 &lt; 11 || n % 100 &gt; 20) {<br />    switch (n % 10) {<br />    case 1:<br />     System.out.printf("The %dst humble number is %d.\n", n,<br />       humbleNum[n]);<br />     break;<br />    case 2:<br />     System.out.printf("The %dnd humble number is %d.\n", n,<br />       humbleNum[n]);<br />     break;<br />    case 3:<br />     System.out.printf("The %drd humble number is %d.\n", n,<br />       humbleNum[n]);<br />     break;<br />    default:<br />     System.out.printf("The %dth humble number is %d.\n", n,<br />       humbleNum[n]);<br />     break;<br />    }<br />   } else {<br />    System.out.printf("The %dth humble number is %d.\n", n,<br />      humbleNum[n]);<br />   }<br />  }<br /> }<br /><br />}<br /><br /></pre>
