title=〔UVa〕10107 - What is the Median?
date=2015-02-23 17:52
full_date=2015-02-23T17:52:00.000+08:00
type=post
allowComment=true
tags=〔UVa〕, 【競賽＆解題】
status=published
~~~~~~

Problem：<a href="http://uva.onlinejudge.org/external/101/10107.html">http://uva.onlinejudge.org/external/101/10107.html</a><br /><!--more--><br />Solution Description:<br />Use two priority queue, a max-heap and a min-heap, to store the values. The max-heap is use to store the smaller half and the min-heap is used to store the larger half. If the number of the values is odd, we let the size difference of the two heap be one and the first value of the larger heap is the median. If the number of the values is even, the average of the first value of the two heaps will be the median.<br /><br />Java：<br /><pre class="brush:java">/* Filename: UVa10107.java<br /> * Author: Mushiyo<br /> */<br /><br />import java.util.Scanner;<br />import java.util.PriorityQueue;<br />import java.util.Collections;<br /><br />public class UVa10107 {<br /><br /> public static void main(String[] args) {<br />  Scanner input = new Scanner(System.in);<br />  PriorityQueue&lt;Integer&gt; smallHalf = new PriorityQueue&lt;Integer&gt;(1,<br />    Collections.reverseOrder()); // a max-heap<br />  PriorityQueue&lt;Integer&gt; largeHalf = new PriorityQueue&lt;Integer&gt;(); // a min-heap<br /><br />  boolean isEven = true;<br />  while (input.hasNext()) {<br />   int number = input.nextInt();<br />   isEven = !isEven;<br /><br />   if (largeHalf.isEmpty()) {<br />    largeHalf.add(number);<br />   } else if (smallHalf.isEmpty()) {<br />    smallHalf.add(number);<br />   } else {<br />    smallHalf.add(number);<br /><br />    while (smallHalf.peek() &gt; largeHalf.peek()) {<br />     int tmp1 = smallHalf.poll();<br />     int tmp2 = largeHalf.poll();<br />     smallHalf.add(tmp2);<br />     largeHalf.add(tmp1);<br />    }<br /><br />    while (largeHalf.size() &lt; smallHalf.size()) {<br />     largeHalf.add(smallHalf.poll());<br />    }<br />   }<br /><br />   if (isEven) {<br />    System.out<br />      .println(((long) smallHalf.peek() + largeHalf.peek()) / 2L);<br />   } else { // isOdd<br />    System.out.println(largeHalf.peek());<br />   }<br />  }<br /> }<br /><br />}<br /><br /></pre>
